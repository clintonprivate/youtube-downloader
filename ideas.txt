Archive past phrases and save them to github, so even if you decide to delete it, it can be recovered in the commit history. Extract only the first phrase of a song and stick to that until your software gets it right then delete and repeat then the phrases that a method gets correct in a row is the software's accuracy score. The issue really only lies with duration. We also want the method to be rather simple and not convoluted, because of it is we can waste a lot of time again for mediocre results. What isn't guaranteed is that, phrases arent same length so won't work. We can do phrase extraction using machine learning. Then we can generate the melody and the durations using ml and ask the user if it's correct. Because it's segments, the pitch detection is correct, only that without the full context of the entire note, you get rises and falls in the vocals instead of the full note. Utilize machine learning in some way.

What about segments with harmonies/polytonality. Sometimes pitch detection mixes octaves. Segment issues. The pitches retrieved are mostly wrong. Onset detection is not correctly divided. Theoretically if could divide into pitch changes correctly. Duration tends to always be an issue. Check already written correct sheet music.